	<!DOCTYPE html>
	<html>
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
		<title>Bootstrap basics and jQuery exercises</title>

	<!-- Bootstrap -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<!-- Font awesome -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

	<!-- Inline CSS -->
	<style>
		.alert--hide {
			display: none;
		}

		.navbar {
			margin-bottom: 0;
		}

		.wrapper {
			padding: 1rem;
			margin-top: 0;
		}

		li {
			font-size: 2rem;
		}
	</style>

	</head>
	  <body>

		<nav class="navbar navbar-default">
		  <div class="container-fluid">
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" href="#">Stock exchange</a>
		    </div>

		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		      <form class="navbar-form navbar-left">
		        <div class="form-group">
		          <input id="txtUserEmail" type="text" class="form-control" placeholder="email">
		        </div>
		        <div class="form-group">
		          <input id="txtUserPassword" type="password" class="form-control" placeholder="password">
		        </div>        
		        <button id="btnUserLogin" type="button" class="btn btn-default">
		        	LOGIN
		        </button>
		      </form>
		      <ul class="nav navbar-nav navbar-right">
		       <form class="navbar-form navbar-left">
		       <button id="btnCurrencySwitch" class="btn btn-default">Show currencies</button>
		        <input type="text" class="form-control" id="addCurrencyForm" placeholder="Enter a currency...">
		        <button class="btn btn-default" id="addCurrencyButton">Add currency</button>
		        </form>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		  </div><!-- /.container-fluid -->
		</nav>
		

		
		<div class="wrapper">
			<!-- Messages -->
			<div class="alert alert-success alert--hide" id="alert--success" role="alert">Succesfully logged in.</div>
			<div class="alert alert-danger alert--hide" id="alert--fail" role="alert">Snap, try again!</div>

			<ul id="currenciesBox"></ul>

			<h1>Bootstrap basics and jQuery exercises</h1>
			
			<h2>Task 1: login</h2>
			<ul>
				<li>Expected user name: "a"</li>
				<li>Expected password: "1"</li>
				<li>Try to log in</li>
			</ul>

			<h2>Task 2 and 3: show currencies</h2>
			<ul>
				<li>Click "Show currenciews" to show currencies</li>
				<li>You can also add a new one</li>
			</ul>
		</div>


	    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

	    <!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

			<script type="text/javascript">
				
				/**********************************************************************/
				/**********************************************************************/
				/**********************************************************************/
				/* EVENTS */
				// EVENTS should only call functions
				$("#btnUserLogin").click( function(){
					login();
				});


				/**********************************************************************/
				/**********************************************************************/
				/**********************************************************************/
				/* FUCNTIONS */

				/* Task 1: Display green alert on succesfull login, red one on unsuccesful login */

				function login(){
					/*Expected credentials*/
					var sCorrectEmail 		= "a";
					var sCorrectPassword 	= "1";

					// select the email and password from the text boxes
					var sUserEmail = $("#txtUserEmail").val();
					var sUserPassword = $("#txtUserPassword").val();

					if(sCorrectEmail == sUserEmail && sCorrectPassword == sUserPassword){
						/*Sol1*/
						// $("#alert--success").removeClass("alert--hide");
						// $("#alert--fail").addClass("alert--hide");

						/*Sol2*/
						$("#alert--success").show(1000);
						$("#alert--fail").hide(1000);

					}else{
						/*Sol1*/
						// $("#alert--fail").removeClass("alert--hide");
						// $("#alert--success").addClass("alert--hide");

						/*Sol2*/
						$("#alert--success").hide(1000);
						$("#alert--fail").show(1000);
					}
				}

				/* Task 2: Create a button saying "Show currencies"*/
				/* On button click, change the button of the button to "Hide currencies" */
				/* Show currencies */
				
				/* Settings */
				var isCurrencyShown = false;
				var aCurrencies = [
					"HUF",
					"DKK",
					"USD",
					"CAD"
				];

				/* Event listener */
				$("#btnCurrencySwitch").click(function(e){
					switchCurrencies();
					e.preventDefault();
				})

				/* Show and hide currencies */
				function switchCurrencies(){
					if (!isCurrencyShown) {
						showCurrencies();
					} else {
						hideCurrencies();
					}
				}

				/* Task 3: */
				/* Add a form and button for adding new currency to the current ones */
				var addCurrencyButton = $("#addCurrencyButton");
				var addCurrencyForm = $("#addCurrencyForm");

				/* Event listener for button click */
				addCurrencyButton.click(function(e){
					console.log("you added a new");
					newCurrency = addCurrencyForm.val();
					addCurrency(newCurrency);
					e.preventDefault();
				})
				
				function showCurrencies() {
					isCurrencyShown = !isCurrencyShown;
					$("#currenciesBox").text("");
					var finalContent = "";

					for (var i = 0; i < aCurrencies.length; i++) {
						finalContent +=  "<li>" + aCurrencies[i] + "<i data-arrayIndex='"+i+"' id='currency"+i+"' class='fa fa-trash-o fa-fw'></i>";
					}

					$("#currenciesBox").append(finalContent);
					$("#btnCurrencySwitch").html("Hide currencies");
				}

				function hideCurrencies() {
					isCurrencyShown = !isCurrencyShown;
					$("#currenciesBox").text("");
					$("#btnCurrencySwitch").html("Show currencies");
				}


				function addCurrency(newCurrency){
					aCurrencies.push(newCurrency);
					if (isCurrencyShown) {
						var newCorrencyDom = "<li data-arrayIndex='"+aCurrencies.length+"' id='currency"+aCurrencies.length+"'> " + newCurrency + "<i class='fa fa-trash-o fa-fw'></i></li>"; 
						$("#currenciesBox").append(newCorrencyDom);
					} else {
						showCurrencies();
					}

				}

				/* Task 4 - delete the items */
				/* Clicking on the trash icon*/
				$(document).on("click", ".fa-trash-o", function(){
					$(this).parent().remove(); // layout works

					// Removing currency from array
					var iArrayIndex = $(this).attr('data-arrayIndex');
					aCurrencies.splice( iArrayIndex, 1 );

					// Rearranging the html attributes
					for (var i = aCurrencies.length - 1; i >= 0; i--) {
						$("#currency"+i).attr("data-arrayIndex", i);
						console.log($("#currency"+i));
					}

				});

			</script>
	  </body>
	</html>













